var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function a(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function d(){return u(" ")}function f(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function m(e,t){e.value=null==t?"":t}let h;function x(e){h=e}function b(e){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(e)}const w=[],y=[],$=[],v=[],k=Promise.resolve();let _=!1;function j(e){$.push(e)}let C=!1;const P=new Set;function T(){if(!C){C=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];x(t),E(t.$$)}for(x(null),w.length=0;y.length;)y.pop()();for(let e=0;e<$.length;e+=1){const t=$[e];P.has(t)||(P.add(t),t())}$.length=0}while(w.length);for(;v.length;)v.pop()();_=!1,C=!1,P.clear()}}function E(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const A=new Set;const L="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function R(e,t){-1===e.$$.dirty[0]&&(w.push(e),_||(_=!0,k.then(T)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function S(l,o,i,a,u,d,f=[-1]){const p=h;x(l);const g=o.props||{},m=l.$$={fragment:null,ctx:null,props:d,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:f,skip_bound:!1};let b=!1;if(m.ctx=i?i(l,g,((e,t,...n)=>{const r=n.length?n[0]:t;return m.ctx&&u(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),b&&R(l,e)),t})):[],m.update(),b=!0,r(m.before_update),m.fragment=!!a&&a(m.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);m.fragment&&m.fragment.l(e),e.forEach(c)}else m.fragment&&m.fragment.c();o.intro&&((w=l.$$.fragment)&&w.i&&(A.delete(w),w.i(y))),function(e,n,l){const{fragment:o,on_mount:i,on_destroy:c,after_update:a}=e.$$;o&&o.m(n,l),j((()=>{const n=i.map(t).filter(s);c?c.push(...n):r(n),e.$$.on_mount=[]})),a.forEach(j)}(l,o.target,o.anchor),T()}var w,y;x(p)}const{window:M}=L;function U(e,t,n){const r=e.slice();return r[17]=t[n],r}function N(e){let t;return{c(){t=a("p"),t.innerHTML='We are moving to\n              <a class="text-blue-700 underline" href="https://gogputin.web.app">gogputin.web.app</a>',p(t,"class","text-sm text-gray-700 text-center")},m(e,n){i(e,t,n)},d(e){e&&c(t)}}}function O(e){let t,n,r;return{c(){t=a("p"),n=u("Last update:\r\n              "),r=u(e[2]),p(t,"class","text-sm text-gray-700 text-center pt-1")},m(e,s){i(e,t,s),o(t,n),o(t,r)},p(e,t){4&t&&g(r,e[2])},d(e){e&&c(t)}}}function z(e){let t,n,r,s=e[17].price.ru+"";return{c(){t=a("span"),n=u(s),r=u("$"),p(t,"class","font-medium pl-2")},m(e,s){i(e,t,s),o(t,n),o(t,r)},p(e,t){32&t&&s!==(s=e[17].price.ru+"")&&g(n,s)},d(e){e&&c(t)}}}function F(e){let t,n,r,s,l,f,m,h=e[17].sale.ru+"",x=e[17].price.ru+"";return{c(){t=a("span"),n=u(h),r=u("$"),s=d(),l=a("span"),f=u(x),m=u("$"),p(t,"class","font-medium text-blue-700 pl-2"),p(l,"class","text-sm text-red-700 line-through pl-2")},m(e,c){i(e,t,c),o(t,n),o(t,r),i(e,s,c),i(e,l,c),o(l,f),o(l,m)},p(e,t){32&t&&h!==(h=e[17].sale.ru+"")&&g(n,h),32&t&&x!==(x=e[17].price.ru+"")&&g(f,x)},d(e){e&&c(t),e&&c(s),e&&c(l)}}}function q(e){let t,n,r,s=e[17].price.es+"";return{c(){t=a("span"),n=u(s),r=u("$"),p(t,"class","font-medium pl-2")},m(e,s){i(e,t,s),o(t,n),o(t,r)},p(e,t){32&t&&s!==(s=e[17].price.es+"")&&g(n,s)},d(e){e&&c(t)}}}function B(e){let t,n,r,s,l,f,m,h=e[17].sale.es+"",x=e[17].price.es+"";return{c(){t=a("span"),n=u(h),r=u("$"),s=d(),l=a("span"),f=u(x),m=u("$"),p(t,"class","font-medium text-blue-700 pl-2"),p(l,"class","text-red-700 line-through pl-2")},m(e,c){i(e,t,c),o(t,n),o(t,r),i(e,s,c),i(e,l,c),o(l,f),o(l,m)},p(e,t){32&t&&h!==(h=e[17].sale.es+"")&&g(n,h),32&t&&x!==(x=e[17].price.es+"")&&g(f,x)},d(e){e&&c(t),e&&c(s),e&&c(l)}}}function G(e){let t,n,r,l,m,h,x,b,w,y,$,v,k,_,j,C,P,T,E,A,L,R,S,M,U,N,O,G=e[17].title+"",H=e[17].category+"";function I(e,t){return e[17].sale?F:z}let D=I(e),V=D(e);function W(e,t){return e[17].sale?B:q}let J=W(e),K=J(e);return{c(){t=a("div"),n=a("div"),r=a("img"),x=d(),b=a("div"),w=a("div"),y=u(G),$=d(),v=a("div"),k=u(H),_=d(),j=a("div"),C=a("div"),P=a("img"),E=d(),V.c(),A=d(),L=a("div"),R=a("img"),M=d(),K.c(),U=d(),p(r,"class","w-full"),r.src!==(l=e[17].image+"_200.jpg")&&p(r,"src",l),p(r,"alt",m=e[17].title),p(r,"title",h=e[17].title),p(r,"loading","lazy"),p(w,"class","font-bold text-md"),p(v,"class","text-sm text-gray-600"),p(b,"class","px-2 py-2"),p(P,"class","h-full"),P.src!==(T="/ru.svg")&&p(P,"src","/ru.svg"),p(P,"alt","Russian Flag"),p(C,"class","flex flex-inline h-5"),p(R,"class","h-full"),R.src!==(S="/es.svg")&&p(R,"src","/es.svg"),p(R,"alt","Spanish Flag"),p(L,"class","flex flex-inline h-5"),p(j,"class","pl-3 space-y-3 pb-3"),p(n,"class","rounded overflow-hidden hover:shadow-lg border-r border-b border-l border-gray-300 flex-1"),p(t,"class","cursor-pointer flex flex-col w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6 px-1 pb-3"),p(t,"role","listitem")},m(l,c){i(l,t,c),o(t,n),o(n,r),o(n,x),o(n,b),o(b,w),o(w,y),o(b,$),o(b,v),o(v,k),o(n,_),o(n,j),o(j,C),o(C,P),o(C,E),V.m(C,null),o(j,A),o(j,L),o(L,R),o(L,M),K.m(L,null),o(t,U),N||(O=f(t,"click",(function(){s(e[9](e[17].url))&&e[9](e[17].url).apply(this,arguments)})),N=!0)},p(t,n){e=t,32&n&&r.src!==(l=e[17].image+"_200.jpg")&&p(r,"src",l),32&n&&m!==(m=e[17].title)&&p(r,"alt",m),32&n&&h!==(h=e[17].title)&&p(r,"title",h),32&n&&G!==(G=e[17].title+"")&&g(y,G),32&n&&H!==(H=e[17].category+"")&&g(k,H),D===(D=I(e))&&V?V.p(e,n):(V.d(1),V=D(e),V&&(V.c(),V.m(C,null))),J===(J=W(e))&&K?K.p(e,n):(K.d(1),K=J(e),K&&(K.c(),K.m(L,null)))},d(e){e&&c(t),V.d(),K.d(),N=!1,O()}}}function H(t){let n,s,l,h,x,b,w,y,$,v,k,_,j,C,P,T,E,A,L,R,S,z,F,q,B,H,I,D,V,W,J,K,Q,X,Y,Z,ee,te,ne,re=t[3]&&N(),se=t[2]&&O(t),le=t[5],oe=[];for(let e=0;e<le.length;e+=1)oe[e]=G(U(t,le,e));return{c(){n=a("main"),s=a("div"),l=a("div"),h=a("div"),x=a("div"),b=a("h1"),b.textContent="GOG Russian Prices",w=d(),re&&re.c(),y=d(),se&&se.c(),$=d(),v=a("div"),k=a("div"),_=a("label"),_.textContent="Search Term",j=d(),C=a("input"),P=d(),T=a("div"),E=a("button"),E.innerHTML='<span class="absolute left-0 inset-y-0 flex items-center pl-3"></span>\n            Search!',A=d(),L=a("div"),R=a("div");for(let e=0;e<oe.length;e+=1)oe[e].c();S=d(),z=a("div"),F=a("div"),q=a("button"),B=u("<< Previous"),I=d(),D=a("div"),V=a("div"),W=u(t[0]),J=u("\r\n          /\r\n          "),K=u(t[4]),Q=d(),X=a("div"),Y=a("button"),Z=u("Next >>"),p(b,"class","text-center text-3xl font-extrabold text-gray-900 "),p(x,"class","justify-center w-full"),p(_,"for","searchterm"),p(_,"class","sr-only"),p(C,"id","searchterm"),p(C,"name","searchterm"),p(C,"type","text"),C.required=!0,p(C,"class","appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),p(C,"placeholder","Search for your game!"),p(v,"class","rounded-md shadow-sm -space-y-px"),p(E,"type","submit"),p(E,"class","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(h,"class","block space-y-3 w-full md:w-1/3 py-3"),p(l,"class","w-full flex justify-center"),p(R,"class","flex flex-wrap w-full"),p(R,"role","list"),p(L,"class","flex block w-full"),p(L,"id","games"),q.disabled=H=t[0]<=1,p(q,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(F,"class","w-1/3 px-1 "),p(V,"class","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(D,"class","w-1/3 px-1 "),Y.disabled=ee=t[0]>=t[4],p(Y,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(X,"class","w-1/3 px-1 "),p(z,"class","flex flex-inline block w-full mb-2"),p(s,"class","flex flex-wrap justify-center items-center"),p(n,"class","container mx-auto px-3")},m(e,r){i(e,n,r),o(n,s),o(s,l),o(l,h),o(h,x),o(x,b),o(x,w),re&&re.m(x,null),o(x,y),se&&se.m(x,null),o(h,$),o(h,v),o(v,k),o(k,_),o(k,j),o(k,C),m(C,t[1]),o(h,P),o(h,T),o(T,E),o(s,A),o(s,L),o(L,R);for(let e=0;e<oe.length;e+=1)oe[e].m(R,null);o(s,S),o(s,z),o(z,F),o(F,q),o(q,B),o(z,I),o(z,D),o(D,V),o(V,W),o(V,J),o(V,K),o(z,Q),o(z,X),o(X,Y),o(Y,Z),te||(ne=[f(M,"keydown",t[8]),f(C,"input",t[15]),f(C,"keypress",t[7]),f(E,"click",t[6]),f(q,"click",t[11]),f(Y,"click",t[10])],te=!0)},p(e,[t]){if(e[3]?re||(re=N(),re.c(),re.m(x,y)):re&&(re.d(1),re=null),e[2]?se?se.p(e,t):(se=O(e),se.c(),se.m(x,null)):se&&(se.d(1),se=null),2&t&&C.value!==e[1]&&m(C,e[1]),544&t){let n;for(le=e[5],n=0;n<le.length;n+=1){const r=U(e,le,n);oe[n]?oe[n].p(r,t):(oe[n]=G(r),oe[n].c(),oe[n].m(R,null))}for(;n<oe.length;n+=1)oe[n].d(1);oe.length=le.length}1&t&&H!==(H=e[0]<=1)&&(q.disabled=H),1&t&&g(W,e[0]),16&t&&g(K,e[4]),17&t&&ee!==(ee=e[0]>=e[4])&&(Y.disabled=ee)},i:e,o:e,d(e){e&&c(n),re&&re.d(),se&&se.d(),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(oe,e),te=!1,r(ne)}}}const I="https://raw.githubusercontent.com/Dionakra/gog-russian-prices/master/public";function D(e,t,n){let r,{searchResult:s=[]}=t,{searchTerm:l=""}=t,{games:o=[]}=t,{sales:i=[]}=t,{lastUpdated:c=""}=t,{showAlt:a=!1}=t,{totalPages:u=-1}=t,{currentPage:d=-1}=t;async function f(){""==l.trim()?n(12,s=i):(0===o.length&&await fetch(`${I}/games.json`).then((e=>e.json())).then((e=>{n(13,o=e.sort(((e,t)=>e.title.localeCompare(t.title))))})),n(12,s=o.filter((e=>e.title.toLowerCase().includes(l.trim().toLowerCase())))),n(4,u=Math.floor(s.length/24)+1),n(0,d=1))}b((async()=>{n(3,a=window.location.href.includes("dionakra")),await fetch(`${I}/sales.json`).then((e=>e.json())).then((e=>{n(14,i=e.sort(((e,t)=>e.title.localeCompare(t.title)))),n(12,s=i),n(4,u=Math.floor(i.length/24)+1),n(0,d=1)})),await fetch(`${I}/lastUpdate.json`).then((e=>e.json())).then((e=>{const t=e.last,r=t.substr(8,2),s=t.substr(5,2),l=t.substr(11,5);n(2,c=`${r}/${s} - ${l}`)}))}));function p(){d<u&&m(1)}function g(){d>1&&m(-1)}function m(e){n(0,d+=e),document.getElementById("games").scrollIntoView()}return e.$$set=e=>{"searchResult"in e&&n(12,s=e.searchResult),"searchTerm"in e&&n(1,l=e.searchTerm),"games"in e&&n(13,o=e.games),"sales"in e&&n(14,i=e.sales),"lastUpdated"in e&&n(2,c=e.lastUpdated),"showAlt"in e&&n(3,a=e.showAlt),"totalPages"in e&&n(4,u=e.totalPages),"currentPage"in e&&n(0,d=e.currentPage)},e.$$.update=()=>{4097&e.$$.dirty&&n(5,r=s.slice(24*(d-1),24*d))},[d,l,c,a,u,r,f,e=>{13===e.charCode&&f()},e=>{"searchterm"!==e.target.id&&(37===e.keyCode&&g(),39===e.keyCode&&p())},e=>{window.open(`https://www.gog.com${e}`,"_blank").focus()},p,g,s,o,i,function(){l=this.value,n(1,l)}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),S(this,e,D,H,l,{searchResult:12,searchTerm:1,games:13,sales:14,lastUpdated:2,showAlt:3,totalPages:4,currentPage:0})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
